// This file is auto-generated by @hey-api/openapi-ts

import type { Client, Options as Options2, TDataShape } from './client';
import { client } from './client.gen';
import type { BundleSpecData, BundleSpecErrors, BundleSpecResponses, DereferenceSpecData, DereferenceSpecErrors, DereferenceSpecResponses, GenerateSpecData, GenerateSpecErrors, GenerateSpecResponses, GetApiInfoData, GetApiInfoResponses, GetHealthData, GetHealthResponses, ValidateSpecData, ValidateSpecErrors, ValidateSpecResponses } from './types.gen';

export type Options<TData extends TDataShape = TDataShape, ThrowOnError extends boolean = boolean> = Options2<TData, ThrowOnError> & {
    /**
     * You can provide a client instance returned by `createClient()` instead of
     * individual options. This might be also useful if you want to implement a
     * custom client.
     */
    client?: Client;
    /**
     * You can pass arbitrary values through the `meta` object. This can be
     * used to access values that aren't defined as part of the SDK function.
     */
    meta?: Record<string, unknown>;
};

/**
 * API Information
 *
 * Returns basic information about the API including available endpoints
 */
export const getApiInfo = <ThrowOnError extends boolean = false>(options?: Options<GetApiInfoData, ThrowOnError>) => (options?.client ?? client).get<GetApiInfoResponses, unknown, ThrowOnError>({ url: '/', ...options });

/**
 * Health Check
 *
 * Returns the health status of the API and its dependent services
 */
export const getHealth = <ThrowOnError extends boolean = false>(options?: Options<GetHealthData, ThrowOnError>) => (options?.client ?? client).get<GetHealthResponses, unknown, ThrowOnError>({ url: '/api/health', ...options });

/**
 * Validate OpenAPI Specification
 *
 * Validates an OpenAPI 3.1.x specification for structural
 * and semantic correctness. Returns detailed validation errors if invalid.
 *
 */
export const validateSpec = <ThrowOnError extends boolean = false>(options: Options<ValidateSpecData, ThrowOnError>) => (options.client ?? client).post<ValidateSpecResponses, ValidateSpecErrors, ThrowOnError>({
    url: '/api/validate',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Dereference OpenAPI Specification
 *
 * Resolves all `$ref` pointers in an OpenAPI specification, including external
 * file references. Returns a fully dereferenced spec where all references are
 * replaced with their actual content.
 *
 */
export const dereferenceSpec = <ThrowOnError extends boolean = false>(options: Options<DereferenceSpecData, ThrowOnError>) => (options.client ?? client).post<DereferenceSpecResponses, DereferenceSpecErrors, ThrowOnError>({
    url: '/api/validate/dereference',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Bundle OpenAPI Specification
 *
 * Bundles all external references into a single OpenAPI specification while
 * maintaining `$ref` pointers for internal references. Useful for creating
 * portable spec files.
 *
 */
export const bundleSpec = <ThrowOnError extends boolean = false>(options: Options<BundleSpecData, ThrowOnError>) => (options.client ?? client).post<BundleSpecResponses, BundleSpecErrors, ThrowOnError>({
    url: '/api/validate/bundle',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Generate OpenAPI Specification
 *
 * Generates an OpenAPI 3.1 specification from a natural language description.
 *
 * **Modes:**
 * - `create`: Generate a new spec from scratch
 * - `modify`: Modify an existing spec based on change requests
 *
 * When using `modify` mode, provide the `existingSpec` parameter with the
 * current OpenAPI specification as a YAML string.
 *
 */
export const generateSpec = <ThrowOnError extends boolean = false>(options: Options<GenerateSpecData, ThrowOnError>) => (options.client ?? client).post<GenerateSpecResponses, GenerateSpecErrors, ThrowOnError>({
    url: '/api/generate',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});
